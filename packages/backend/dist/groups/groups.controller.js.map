{"version":3,"sources":["../../src/groups/groups.controller.ts"],"sourcesContent":["import {\n  Body,\n  Controller,\n  Param,\n  Query,\n  Get,\n  Post,\n  Patch,\n  Delete,\n} from '@nestjs/common';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiParam,\n  ApiQuery,\n  ApiBody,\n} from '@nestjs/swagger';\nimport { GroupsService } from './groups.service';\nimport { BatchUpsertGroupDto } from './dto/batch-upsert-group.dto';\nimport { CreateGroupDto } from './dto/create-group.dto';\nimport { UpdateGroupDto } from './dto/update-group.dto';\n\n@ApiTags('groups')\n@Controller('groups')\nexport class GroupsController {\n  constructor(private readonly groupsService: GroupsService) {}\n\n  @ApiOperation({ summary: 'Get all groups' })\n  @ApiQuery({\n    name: 'isActive',\n    required: false,\n    enum: ['true', 'false'],\n    description: 'Filter by active status',\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Returns all groups or filtered by active status',\n  })\n  @Get()\n  async getAll(@Query('isActive') isActive?: 'true' | 'false') {\n    const active =\n      isActive === 'true' ? true : isActive === 'false' ? false : undefined;\n    return await this.groupsService.findAll(active);\n  }\n\n  @ApiOperation({ summary: 'Get group by ID' })\n  @ApiParam({ name: 'id', description: 'Group ID' })\n  @ApiResponse({ status: 200, description: 'Returns group' })\n  @Get(':id')\n  async getOne(@Param('id') id: string) {\n    return await this.groupsService.findOne(+id);\n  }\n\n  @ApiOperation({ summary: 'Create new group' })\n  @ApiBody({ type: CreateGroupDto })\n  @ApiResponse({ status: 201, description: 'Group created' })\n  @Post()\n  async create(@Body() group: CreateGroupDto) {\n    return await this.groupsService.create(group);\n  }\n\n  @ApiOperation({ summary: 'Update group' })\n  @ApiParam({ name: 'id', description: 'Group ID' })\n  @ApiBody({ type: UpdateGroupDto })\n  @ApiResponse({ status: 200, description: 'Group updated' })\n  @Patch(':id')\n  async update(@Param('id') id: string, @Body() group: UpdateGroupDto) {\n    return await this.groupsService.update(+id, group);\n  }\n\n  @ApiOperation({ summary: 'Delete group' })\n  @ApiParam({ name: 'id', description: 'Group ID' })\n  @ApiResponse({ status: 200, description: 'Group deleted' })\n  @Delete(':id')\n  async deleteGroup(@Param('id') id: string) {\n    await this.groupsService.remove(+id);\n    return { message: 'Group deleted successfully' };\n  }\n\n  @ApiOperation({ summary: 'Batch create or update groups by name' })\n  @ApiBody({ type: BatchUpsertGroupDto })\n  @ApiResponse({\n    status: 200,\n    description:\n      'Groups created/updated. Returns count and the processed groups.',\n  })\n  @Post('batch-upsert')\n  async batchUpsert(@Body() batchDto: BatchUpsertGroupDto) {\n    return await this.groupsService.batchUpsert(batchDto.groups);\n  }\n}\n"],"names":["GroupsController","getAll","isActive","active","undefined","groupsService","findAll","getOne","id","findOne","create","group","update","deleteGroup","remove","message","batchUpsert","batchDto","groups","summary","name","required","enum","description","status","type","CreateGroupDto","UpdateGroupDto","BatchUpsertGroupDto"],"mappings":";;;;+BAyBaA;;;eAAAA;;;wBAhBN;yBAQA;+BACuB;qCACM;gCACL;gCACA;;;;;;;;;;;;;;;AAIxB,IAAA,AAAMA,mBAAN,MAAMA;IAGX,MAYMC,OAAO,AAAmBC,QAA2B,EAAE;QAC3D,MAAMC,SACJD,aAAa,SAAS,OAAOA,aAAa,UAAU,QAAQE;QAC9D,OAAO,MAAM,IAAI,CAACC,aAAa,CAACC,OAAO,CAACH;IAC1C;IAEA,MAIMI,OAAO,AAAaC,EAAU,EAAE;QACpC,OAAO,MAAM,IAAI,CAACH,aAAa,CAACI,OAAO,CAAC,CAACD;IAC3C;IAEA,MAIME,OAAO,AAAQC,KAAqB,EAAE;QAC1C,OAAO,MAAM,IAAI,CAACN,aAAa,CAACK,MAAM,CAACC;IACzC;IAEA,MAKMC,OAAO,AAAaJ,EAAU,EAAE,AAAQG,KAAqB,EAAE;QACnE,OAAO,MAAM,IAAI,CAACN,aAAa,CAACO,MAAM,CAAC,CAACJ,IAAIG;IAC9C;IAEA,MAIME,YAAY,AAAaL,EAAU,EAAE;QACzC,MAAM,IAAI,CAACH,aAAa,CAACS,MAAM,CAAC,CAACN;QACjC,OAAO;YAAEO,SAAS;QAA6B;IACjD;IAEA,MAQMC,YAAY,AAAQC,QAA6B,EAAE;QACvD,OAAO,MAAM,IAAI,CAACZ,aAAa,CAACW,WAAW,CAACC,SAASC,MAAM;IAC7D;IAhEA,YAAY,AAAiBb,aAA4B,CAAE;aAA9BA,gBAAAA;IAA+B;AAiE9D;;;QA/DkBc,SAAS;;;QAEvBC,MAAM;QACNC,UAAU;QACVC,MAAM;YAAC;YAAQ;SAAQ;QACvBC,aAAa;;;QAGbC,QAAQ;QACRD,aAAa;;;;;;;;;;;;QASCJ,SAAS;;;QACbC,MAAM;QAAMG,aAAa;;;QACtBC,QAAQ;QAAKD,aAAa;;;;;;;;;;;;QAMzBJ,SAAS;;;QACdM,MAAMC,8BAAc;;;QAChBF,QAAQ;QAAKD,aAAa;;;;;;;;;;;;QAMzBJ,SAAS;;;QACbC,MAAM;QAAMG,aAAa;;;QAC1BE,MAAME,8BAAc;;;QAChBH,QAAQ;QAAKD,aAAa;;;;;;;;;;;;;;QAMzBJ,SAAS;;;QACbC,MAAM;QAAMG,aAAa;;;QACtBC,QAAQ;QAAKD,aAAa;;;;;;;;;;;;QAOzBJ,SAAS;;;QACdM,MAAMG,wCAAmB;;;QAElCJ,QAAQ;QACRD,aACE"}