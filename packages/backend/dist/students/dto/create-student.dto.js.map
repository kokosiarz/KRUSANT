{"version":3,"sources":["../../../src/students/dto/create-student.dto.ts"],"sourcesContent":["import { DebitDto } from './debit.dto';\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport {\n  IsString,\n  IsEmail,\n  IsOptional,\n  IsNumber,\n  IsArray,\n  IsBoolean,\n  Min,\n  ValidateNested,\n  IsDateString,\n  IsEnum,\n} from 'class-validator';\nimport { Type } from 'class-transformer';\n\nexport class PaymentDto {\n  @ApiProperty({ description: 'Payment date', example: '2026-01-05' })\n  @IsDateString()\n  date: string;\n\n  @ApiProperty({ description: 'Payment amount', example: 100.0 })\n  @IsNumber()\n  @Min(0)\n  amount: number;\n\n  @ApiPropertyOptional({ description: 'Payment comment', example: 'Monthly payment' })\n  @IsOptional()\n  @IsString()\n  comment?: string;\n}\n\nexport class ClassDto {\n  @ApiProperty({ description: 'Class date', example: '2026-01-05' })\n  @IsDateString()\n  date: string;\n\n  @ApiProperty({ description: 'Class cost', example: 50.0 })\n  @IsNumber()\n  @Min(0)\n  cost: number;\n\n  @ApiProperty({ description: 'Class type', example: 'attended', enum: ['attended', 'missed'] })\n  @IsEnum(['attended', 'missed'])\n  type: 'attended' | 'missed';\n\n  @ApiProperty({ description: 'Semester', example: 'V' })\n  @IsString()\n  semester: string;\n\n  @ApiProperty({ description: 'Teacher ID', example: 1 })\n  @IsNumber()\n  teacherId: number;\n}\n\nexport class CreateStudentDto {\n  @ApiProperty({ description: 'Student name', example: 'John Doe' })\n  @IsString()\n  name: string;\n\n  @ApiProperty({\n    description: 'Student email',\n    example: 'john.doe@example.com',\n  })\n  @IsEmail()\n  email: string;\n\n  @ApiPropertyOptional({\n    description: 'Student phone number',\n    example: '+1234567890',\n  })\n  @IsOptional()\n  @IsString()\n  phone?: string;\n\n  @ApiProperty({\n    description: 'Payment records',\n    example: [{ date: '2026-01-05', amount: 100.0, comment: 'Monthly payment' }],\n    default: [],\n    type: [PaymentDto],\n  })\n  @IsArray()\n  @ValidateNested({ each: true })\n  @Type(() => PaymentDto)\n  payments: PaymentDto[];\n\n  @ApiProperty({\n    description: 'Class records',\n    example: [{ date: '2026-01-05', cost: 50.0, type: 'attended', semester: 'V', teacherId: 1 }],\n    default: [],\n    type: [ClassDto],\n  })\n  @IsArray()\n  @ValidateNested({ each: true })\n  @Type(() => ClassDto)\n  classes: ClassDto[];\n\n  @ApiPropertyOptional({\n    description: 'Debit records',\n    example: [\n      { id: 1, dueDate: '2026-01-31', amount: 100.0, comment: 'January fee' }\n    ],\n    default: [],\n    type: [DebitDto],\n  })\n  @IsOptional()\n  @IsArray()\n  @ValidateNested({ each: true })\n  @Type(() => DebitDto)\n  debits?: DebitDto[];\n\n  @ApiPropertyOptional({\n    description: 'Custom rate for this student',\n    example: 50.0,\n  })\n  @IsOptional()\n  @IsNumber()\n  @Min(0)\n  customRate?: number;\n\n  @ApiPropertyOptional({ description: 'Discount percentage', example: 10.0 })\n  @IsOptional()\n  @IsNumber()\n  @Min(0)\n  discount?: number;\n\n  @ApiProperty({ description: 'Current semester', example: 'V' })\n  @IsString()\n  semester: string;\n\n  @ApiProperty({ description: 'Additional notes', example: '', default: '' })\n  @IsString()\n  extraNotes: string;\n\n  @ApiProperty({ description: 'Student active status', example: true, default: true })\n  @IsBoolean()\n  active: boolean;\n}\n"],"names":["ClassDto","CreateStudentDto","PaymentDto","description","example","enum","date","amount","comment","default","type","each","cost","semester","teacherId","id","dueDate","DebitDto"],"mappings":";;;;;;;;;;;QAgCaA;eAAAA;;QAuBAC;eAAAA;;QAvCAC;eAAAA;;;0BAhBY;yBACwB;gCAY1C;kCACc;;;;;;;;;;AAEd,IAAA,AAAMA,aAAN,MAAMA;AAcb;;;QAbiBC,aAAa;QAAgBC,SAAS;;;;;;;QAItCD,aAAa;QAAkBC,SAAS;;;;;;;;QAKhCD,aAAa;QAAmBC,SAAS;;;;;;AAM3D,IAAA,AAAMJ,WAAN,MAAMA;AAqBb;;;QApBiBG,aAAa;QAAcC,SAAS;;;;;;;QAIpCD,aAAa;QAAcC,SAAS;;;;;;;;QAKpCD,aAAa;QAAcC,SAAS;QAAYC,MAAM;YAAC;YAAY;SAAS;;;QAClF;QAAY;;;;;;QAGNF,aAAa;QAAYC,SAAS;;;;;;;QAIlCD,aAAa;QAAcC,SAAS;;;;;AAK9C,IAAA,AAAMH,mBAAN,MAAMA;AAkFb;;;QAjFiBE,aAAa;QAAgBC,SAAS;;;;;;;QAKnDD,aAAa;QACbC,SAAS;;;;;;;QAMTD,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;YAAC;gBAAEE,MAAM;gBAAcC,QAAQ;gBAAOC,SAAS;YAAkB;SAAE;QAC5EC,SAAS,EAAE;QACXC,MAAM;YAACR;SAAW;;;;QAGFS,MAAM;;oCACZT;;;;;QAIVC,aAAa;QACbC,SAAS;YAAC;gBAAEE,MAAM;gBAAcM,MAAM;gBAAMF,MAAM;gBAAYG,UAAU;gBAAKC,WAAW;YAAE;SAAE;QAC5FL,SAAS,EAAE;QACXC,MAAM;YAACV;SAAS;;;;QAGAW,MAAM;;oCACZX;;;;;QAIVG,aAAa;QACbC,SAAS;YACP;gBAAEW,IAAI;gBAAGC,SAAS;gBAAcT,QAAQ;gBAAOC,SAAS;YAAc;SACvE;QACDC,SAAS,EAAE;QACXC,MAAM;YAACO,kBAAQ;SAAC;;;;;QAIAN,MAAM;;oCACZM,kBAAQ;;;;;QAIlBd,aAAa;QACbC,SAAS;;;;;;;;;QAOYD,aAAa;QAAuBC,SAAS;;;;;;;;;QAMrDD,aAAa;QAAoBC,SAAS;;;;;;;QAI1CD,aAAa;QAAoBC,SAAS;QAAIK,SAAS;;;;;;;QAIvDN,aAAa;QAAyBC,SAAS;QAAMK,SAAS"}