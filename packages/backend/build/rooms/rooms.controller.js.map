{"version":3,"sources":["../../src/rooms/rooms.controller.ts"],"sourcesContent":["import {\n  Body,\n  Controller,\n  Param,\n  Get,\n  Post,\n  Patch,\n  Delete,\n} from '@nestjs/common';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiParam,\n  ApiBody,\n} from '@nestjs/swagger';\nimport { RoomsService } from './rooms.service';\nimport { BatchUpsertRoomDto } from './dto/batch-upsert-room.dto';\nimport { CreateRoomDto } from './dto/create-room.dto';\nimport { UpdateRoomDto } from './dto/update-room.dto';\n\n@ApiTags('rooms')\n@Controller('rooms')\nexport class RoomsController {\n  constructor(private readonly roomsService: RoomsService) {}\n\n  @ApiOperation({ summary: 'Get all rooms' })\n  @ApiResponse({ status: 200, description: 'Returns all rooms' })\n  @Get()\n  async getAll() {\n    return await this.roomsService.findAll();\n  }\n\n  @ApiOperation({ summary: 'Get room by ID' })\n  @ApiParam({ name: 'id', description: 'Room ID' })\n  @ApiResponse({ status: 200, description: 'Returns room' })\n  @Get(':id')\n  async getOne(@Param('id') id: string) {\n    return await this.roomsService.findOne(+id);\n  }\n\n  @ApiOperation({ summary: 'Create new room' })\n  @ApiBody({ type: CreateRoomDto })\n  @ApiResponse({ status: 201, description: 'Room created' })\n  @Post()\n  async create(@Body() body: CreateRoomDto) {\n    return await this.roomsService.create(body);\n  }\n\n  @ApiOperation({ summary: 'Update room' })\n  @ApiParam({ name: 'id', description: 'Room ID' })\n  @ApiBody({ type: UpdateRoomDto })\n  @ApiResponse({ status: 200, description: 'Room updated' })\n  @Patch(':id')\n  async update(@Param('id') id: string, @Body() body: UpdateRoomDto) {\n    return await this.roomsService.update(+id, body);\n  }\n\n  @ApiOperation({ summary: 'Delete room' })\n  @ApiParam({ name: 'id', description: 'Room ID' })\n  @ApiResponse({ status: 200, description: 'Room deleted' })\n  @Delete(':id')\n  async delete(@Param('id') id: string) {\n    await this.roomsService.remove(+id);\n    return { message: 'Room deleted successfully' };\n  }\n\n  @ApiOperation({ summary: 'Batch create or update rooms by name' })\n  @ApiBody({ type: BatchUpsertRoomDto })\n  @ApiResponse({\n    status: 200,\n    description:\n      'Rooms created/updated. Returns count and the processed rooms.',\n  })\n  @Post('batch-upsert')\n  async batchUpsert(@Body() batchDto: BatchUpsertRoomDto) {\n    return await this.roomsService.batchUpsert(batchDto.rooms);\n  }\n}\n"],"names":["RoomsController","getAll","roomsService","findAll","getOne","id","findOne","create","body","update","delete","remove","message","batchUpsert","batchDto","rooms","summary","status","description","name","type","CreateRoomDto","UpdateRoomDto","BatchUpsertRoomDto"],"mappings":";;;;+BAuBaA;;;eAAAA;;;wBAfN;yBAOA;8BACsB;oCACM;+BACL;+BACA;;;;;;;;;;;;;;;AAIvB,IAAA,AAAMA,kBAAN,MAAMA;IAGX,MAGMC,SAAS;QACb,OAAO,MAAM,IAAI,CAACC,YAAY,CAACC,OAAO;IACxC;IAEA,MAIMC,OAAO,AAAaC,EAAU,EAAE;QACpC,OAAO,MAAM,IAAI,CAACH,YAAY,CAACI,OAAO,CAAC,CAACD;IAC1C;IAEA,MAIME,OAAO,AAAQC,IAAmB,EAAE;QACxC,OAAO,MAAM,IAAI,CAACN,YAAY,CAACK,MAAM,CAACC;IACxC;IAEA,MAKMC,OAAO,AAAaJ,EAAU,EAAE,AAAQG,IAAmB,EAAE;QACjE,OAAO,MAAM,IAAI,CAACN,YAAY,CAACO,MAAM,CAAC,CAACJ,IAAIG;IAC7C;IAEA,MAIME,OAAO,AAAaL,EAAU,EAAE;QACpC,MAAM,IAAI,CAACH,YAAY,CAACS,MAAM,CAAC,CAACN;QAChC,OAAO;YAAEO,SAAS;QAA4B;IAChD;IAEA,MAQMC,YAAY,AAAQC,QAA4B,EAAE;QACtD,OAAO,MAAM,IAAI,CAACZ,YAAY,CAACW,WAAW,CAACC,SAASC,KAAK;IAC3D;IArDA,YAAY,AAAiBb,YAA0B,CAAE;aAA5BA,eAAAA;IAA6B;AAsD5D;;;QApDkBc,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAMD,aAAa;;;QACtBD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACdI,MAAMC,4BAAa;;;QACfJ,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAMD,aAAa;;;QAC1BE,MAAME,4BAAa;;;QACfL,QAAQ;QAAKC,aAAa;;;;;;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAMD,aAAa;;;QACtBD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAOzBF,SAAS;;;QACdI,MAAMG,sCAAkB;;;QAEjCN,QAAQ;QACRC,aACE"}