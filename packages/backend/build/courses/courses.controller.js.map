{"version":3,"sources":["../../src/courses/courses.controller.ts"],"sourcesContent":["import { BatchUpsertCourseDto } from './dto/batch-upsert-course.dto';\nimport {\n  Body,\n  Controller,\n  Param,\n  Get,\n  Post,\n  Patch,\n  Delete,\n} from '@nestjs/common';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiParam,\n  ApiBody,\n} from '@nestjs/swagger';\nimport { CoursesService } from './courses.service';\nimport { CreateCourseDto } from './dto/create-course.dto';\nimport { UpdateCourseDto } from './dto/update-course.dto';\n\n@ApiTags('courses')\n@Controller('courses')\nexport class CoursesController {\n  constructor(private readonly coursesService: CoursesService) {}\n\n  @ApiOperation({ summary: 'Get all courses' })\n  @ApiResponse({ status: 200, description: 'Returns all courses' })\n  @Get()\n  async getAll() {\n    return await this.coursesService.findAll();\n  }\n\n  @ApiOperation({ summary: 'Get course by ID' })\n  @ApiParam({ name: 'id', description: 'Course ID' })\n  @ApiResponse({ status: 200, description: 'Returns course' })\n  @Get(':id')\n  async getOne(@Param('id') id: string) {\n    return await this.coursesService.findOne(+id);\n  }\n\n  @ApiOperation({ summary: 'Create new course' })\n  @ApiBody({ type: CreateCourseDto })\n  @ApiResponse({ status: 201, description: 'Course created' })\n  @Post()\n  async create(@Body() course: CreateCourseDto) {\n    return await this.coursesService.create(course);\n  }\n\n  @ApiOperation({ summary: 'Update course' })\n  @ApiParam({ name: 'id', description: 'Course ID' })\n  @ApiBody({ type: UpdateCourseDto })\n  @ApiResponse({ status: 200, description: 'Course updated' })\n  @Patch(':id')\n  async update(@Param('id') id: string, @Body() course: UpdateCourseDto) {\n    return await this.coursesService.update(+id, course);\n  }\n\n  @ApiOperation({ summary: 'Delete course' })\n  @ApiParam({ name: 'id', description: 'Course ID' })\n  @ApiResponse({ status: 200, description: 'Course deleted' })\n  @Delete(':id')\n  async deleteCourse(@Param('id') id: string) {\n    await this.coursesService.remove(+id);\n    return { message: 'Course deleted successfully' };\n  }\n\n  @ApiOperation({ summary: 'Batch create or update courses by name' })\n  @ApiBody({ type: BatchUpsertCourseDto })\n  @ApiResponse({\n    status: 200,\n    description:\n      'Courses created/updated. Returns count and the processed courses.',\n  })\n  @Post('batch-upsert')\n  async batchUpsert(@Body() batchDto: BatchUpsertCourseDto) {\n    return await this.coursesService.batchUpsert(batchDto.courses);\n  }\n}\n"],"names":["CoursesController","getAll","coursesService","findAll","getOne","id","findOne","create","course","update","deleteCourse","remove","message","batchUpsert","batchDto","courses","summary","status","description","name","type","CreateCourseDto","UpdateCourseDto","BatchUpsertCourseDto"],"mappings":";;;;+BAuBaA;;;eAAAA;;;sCAvBwB;wBAS9B;yBAOA;gCACwB;iCACC;iCACA;;;;;;;;;;;;;;;AAIzB,IAAA,AAAMA,oBAAN,MAAMA;IAGX,MAGMC,SAAS;QACb,OAAO,MAAM,IAAI,CAACC,cAAc,CAACC,OAAO;IAC1C;IAEA,MAIMC,OAAO,AAAaC,EAAU,EAAE;QACpC,OAAO,MAAM,IAAI,CAACH,cAAc,CAACI,OAAO,CAAC,CAACD;IAC5C;IAEA,MAIME,OAAO,AAAQC,MAAuB,EAAE;QAC5C,OAAO,MAAM,IAAI,CAACN,cAAc,CAACK,MAAM,CAACC;IAC1C;IAEA,MAKMC,OAAO,AAAaJ,EAAU,EAAE,AAAQG,MAAuB,EAAE;QACrE,OAAO,MAAM,IAAI,CAACN,cAAc,CAACO,MAAM,CAAC,CAACJ,IAAIG;IAC/C;IAEA,MAIME,aAAa,AAAaL,EAAU,EAAE;QAC1C,MAAM,IAAI,CAACH,cAAc,CAACS,MAAM,CAAC,CAACN;QAClC,OAAO;YAAEO,SAAS;QAA8B;IAClD;IAEA,MAQMC,YAAY,AAAQC,QAA8B,EAAE;QACxD,OAAO,MAAM,IAAI,CAACZ,cAAc,CAACW,WAAW,CAACC,SAASC,OAAO;IAC/D;IArDA,YAAY,AAAiBb,cAA8B,CAAE;aAAhCA,iBAAAA;IAAiC;AAsDhE;;;QApDkBc,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAMD,aAAa;;;QACtBD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACdI,MAAMC,gCAAe;;;QACjBJ,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAMD,aAAa;;;QAC1BE,MAAME,gCAAe;;;QACjBL,QAAQ;QAAKC,aAAa;;;;;;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAMD,aAAa;;;QACtBD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAOzBF,SAAS;;;QACdI,MAAMG,0CAAoB;;;QAEnCN,QAAQ;QACRC,aACE"}