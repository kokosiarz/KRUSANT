{"version":3,"sources":["../../src/teachers/teachers.controller.ts"],"sourcesContent":["import { Body, Controller, Post, Delete, Param, Get } from '@nestjs/common';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiParam,\n  ApiBody,\n} from '@nestjs/swagger';\nimport { CreateTeacherDto } from './dto/create-teacher.dto';\nimport { TeachersService } from './teachers.service';\nimport { BatchUpsertTeacherDto } from './dto/batch-upsert-teacher.dto';\n\n@ApiTags('teachers')\n@Controller('teachers')\nexport class TeachersController {\n  constructor(private readonly teachersService: TeachersService) {}\n\n  @ApiOperation({ summary: 'Get all teachers' })\n  @ApiResponse({ status: 200, description: 'Returns all teachers' })\n  @Get()\n  getAllTeachers() {\n    return this.teachersService.findAll();\n  }\n\n  @ApiOperation({ summary: 'Create new teacher' })\n  @ApiResponse({ status: 201, description: 'Teacher created successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid input' })\n  @Post('/signup')\n  createTeacher(@Body() body: CreateTeacherDto) {\n    return this.teachersService.create(body);\n  }\n\n  @ApiOperation({ summary: 'Delete teacher' })\n  @ApiParam({ name: 'id', description: 'Teacher ID' })\n  @ApiResponse({ status: 200, description: 'Teacher deleted successfully' })\n  @Delete(':id')\n  deleteTeacher(@Param('id') id: string) {\n    return this.teachersService.remove(parseInt(id));\n  }\n\n  @ApiOperation({ summary: 'Batch create or update teachers by email' })\n  @ApiBody({ type: BatchUpsertTeacherDto })\n  @ApiResponse({\n    status: 200,\n    description:\n      'Teachers created/updated. Returns count and the processed teachers.',\n  })\n  @Post('batch-upsert')\n  batchUpsert(@Body() batchDto: BatchUpsertTeacherDto) {\n    return this.teachersService.batchUpsert(batchDto.teachers);\n  }\n}\n"],"names":["TeachersController","getAllTeachers","teachersService","findAll","createTeacher","body","create","deleteTeacher","id","remove","parseInt","batchUpsert","batchDto","teachers","summary","status","description","name","type","BatchUpsertTeacherDto"],"mappings":";;;;+BAcaA;;;eAAAA;;;wBAd8C;yBAOpD;kCAC0B;iCACD;uCACM;;;;;;;;;;;;;;;AAI/B,IAAA,AAAMA,qBAAN,MAAMA;IAMXC,iBAAiB;QACf,OAAO,IAAI,CAACC,eAAe,CAACC,OAAO;IACrC;IAMAC,cAAc,AAAQC,IAAsB,EAAE;QAC5C,OAAO,IAAI,CAACH,eAAe,CAACI,MAAM,CAACD;IACrC;IAMAE,cAAc,AAAaC,EAAU,EAAE;QACrC,OAAO,IAAI,CAACN,eAAe,CAACO,MAAM,CAACC,SAASF;IAC9C;IAUAG,YAAY,AAAQC,QAA+B,EAAE;QACnD,OAAO,IAAI,CAACV,eAAe,CAACS,WAAW,CAACC,SAASC,QAAQ;IAC3D;IAnCA,YAAY,AAAiBX,eAAgC,CAAE;aAAlCA,kBAAAA;IAAmC;AAoClE;;;QAlCkBY,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;QAMzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAMD,aAAa;;;QACtBD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACdI,MAAMC,4CAAqB;;;QAEpCJ,QAAQ;QACRC,aACE"}